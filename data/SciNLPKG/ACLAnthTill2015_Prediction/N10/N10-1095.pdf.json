{"title": [{"text": "Reranking the Berkeley and Brown Parsers *", "labels": [], "entities": [{"text": "Reranking", "start_pos": 0, "end_pos": 9, "type": "TASK", "confidence": 0.8501392602920532}, {"text": "Berkeley and Brown Parsers", "start_pos": 14, "end_pos": 40, "type": "DATASET", "confidence": 0.8804048746824265}]}], "abstractContent": [{"text": "The Brown and the Berkeley parsers are two state-of-the-art generative parsers.", "labels": [], "entities": [{"text": "generative parsers", "start_pos": 60, "end_pos": 78, "type": "TASK", "confidence": 0.8832456171512604}]}, {"text": "Since both parsers produce n-best lists, it is possible to apply reranking techniques to the output of both of these parsers, and to their union.", "labels": [], "entities": []}, {"text": "We note that the standard reranker feature set distributed with the Brown parser does not do well with the Berkeley parser, and propose an extended set that does better.", "labels": [], "entities": []}, {"text": "An ablation experiment shows that different parsers benefit from different reranker features.", "labels": [], "entities": []}], "introductionContent": [{"text": "Syntactic parsing is the task of identifying the phrases and clauses in natural language sentences.", "labels": [], "entities": [{"text": "Syntactic parsing", "start_pos": 0, "end_pos": 17, "type": "TASK", "confidence": 0.9359834790229797}, {"text": "identifying the phrases and clauses in natural language sentences", "start_pos": 33, "end_pos": 98, "type": "TASK", "confidence": 0.4823577105998993}]}, {"text": "It has been intensively studied primarily because it is generally believed that identifying syntactic structure is a first step towards semantic interpretation.", "labels": [], "entities": [{"text": "identifying syntactic structure", "start_pos": 80, "end_pos": 111, "type": "TASK", "confidence": 0.7873856027921041}, {"text": "semantic interpretation", "start_pos": 136, "end_pos": 159, "type": "TASK", "confidence": 0.8216816186904907}]}, {"text": "This paper focuses on parsing the Wall Street Journal (WSJ) section of the University of Pennsylvania treebank corpus ().", "labels": [], "entities": [{"text": "parsing", "start_pos": 22, "end_pos": 29, "type": "TASK", "confidence": 0.9750060439109802}, {"text": "Wall Street Journal (WSJ) section of the University of Pennsylvania treebank corpus", "start_pos": 34, "end_pos": 117, "type": "DATASET", "confidence": 0.8446471776281085}]}, {"text": "There area large number of different approaches to this task.", "labels": [], "entities": []}, {"text": "For simplicity we focus on two popular generative statistical parsing models: Charniak's \"Maximum Entropy Inspired\" parser) and Petrov's \"split-merge\" parser ().", "labels": [], "entities": [{"text": "generative statistical parsing", "start_pos": 39, "end_pos": 69, "type": "TASK", "confidence": 0.8507533669471741}]}, {"text": "We follow conventional informal usage and refer to these as the \"Brown\" and the \"Berkeley\" parsers respectively.", "labels": [], "entities": []}, {"text": "Briefly, the Berkeley parser is a smoothed PCFG whose non-terminals are refinements of the original treebank grammar obtained by an automatic splitmerge procedure, while the Brown parser is effectively a smoothed PCFG whose non-terminals encode a wide variety of manually chosen conditioning information, such as heads, governors, etc.", "labels": [], "entities": []}, {"text": "The Berkeley parser is usually viewed as unlexicalized (although the preterminals maybe split so finely that they maybe viewed as identifying lexical clusters), while essentially every distribution used in the Brown parser conditions on lexical information.", "labels": [], "entities": []}, {"text": "Even from this cursory description it is clear that these parsers parsers extract generalizations from the training data in different ways.", "labels": [], "entities": []}, {"text": "This paper applies reranking) to the n-best output of both parsers individually, as well as to an n-best list consisting of the union of the outputs of both parsers.", "labels": [], "entities": []}, {"text": "We are interested to see whether the same kinds of features improve the performance of both the Berkeley and the Brown parsers, or whether successful reranking requires features that are specially tuned to the parser it is applied to.", "labels": [], "entities": []}, {"text": "Finally, we are interested in the performance of the reranker trained on the union nbest lists.", "labels": [], "entities": [{"text": "union nbest lists", "start_pos": 77, "end_pos": 94, "type": "DATASET", "confidence": 0.8037240306536356}]}, {"text": "Combining the output of multiple parsers in other more complex ways has been previously demonstrated to improve overall accuracy, so it is interesting to see if the relatively simple method used here improves parsing accuracy as well.", "labels": [], "entities": [{"text": "accuracy", "start_pos": 120, "end_pos": 128, "type": "METRIC", "confidence": 0.9904463291168213}, {"text": "parsing", "start_pos": 209, "end_pos": 216, "type": "TASK", "confidence": 0.9720479846000671}, {"text": "accuracy", "start_pos": 217, "end_pos": 225, "type": "METRIC", "confidence": 0.9139617681503296}]}, {"text": "The approach of is closest to the work described here.", "labels": [], "entities": []}, {"text": "They combine n-best lists produced by the same parsers as we do, but use only a relatively small set of features (the log probabil-: The f-scores on section 22 of rerankers trained on folds 1-18 by minimizing a regularized \"MaxEnt\" objective (negative log likelihood with a Gaussian regularizer) using L-BFGS.", "labels": [], "entities": []}, {"text": "The weight of the regularizer was tuned to optimize f-score on folds ity of the parses plus a constituent overlap feature), while we investigate models with millions of features here.", "labels": [], "entities": []}, {"text": "They report a higher f-score than we do when they replace the generative Brown parser with the the self-trained discriminatively-reranked parser of, but with inputs provided by the generative Berkeley and Brown n-best parsers they report an f-score of 91.43 on section 23, which is consistent with the results reported here.", "labels": [], "entities": []}], "datasetContent": [{"text": "We ran both parsers in 50-best mode, and constructed 20-fold cross-validated training data as described in Collins and and, i.e., the trees in sections 2-21 of the WSJ treebank were divided into 20 equalsized folds, and the parses for each fold were generated by a parser trained on the trees in the other folds.", "labels": [], "entities": [{"text": "Collins", "start_pos": 107, "end_pos": 114, "type": "DATASET", "confidence": 0.9614031910896301}, {"text": "WSJ treebank", "start_pos": 164, "end_pos": 176, "type": "DATASET", "confidence": 0.9867489635944366}]}, {"text": "Then sections 22, 23 and 24 were parsed using the standard \"out-of-the-box\" parser.", "labels": [], "entities": [{"text": "parsed", "start_pos": 33, "end_pos": 39, "type": "TASK", "confidence": 0.967003583908081}]}, {"text": "Following the suggestion in, in order to avoid over-training on section 23 all reranking experiments reported here (except the final one) used folds 1-18 as training data, used folds 19-20 as development data and used section 22 as test data.", "labels": [], "entities": []}, {"text": "(The averaged perceptron algorithm does not require development data, so the experiments using that algorithm report averages over folds 19-20 and section 22).", "labels": [], "entities": []}, {"text": "The Berkeley parser can be run in many modes; in order to produce the 20-fold training data we ran the Berkeley trainer with 6 splits, and ran the resulting parsers in \"accurate\" mode.", "labels": [], "entities": []}, {"text": "It failed to produce any parses for 12 sentences in sections 2-21 and one sentence in section 24.", "labels": [], "entities": []}, {"text": "The Brown parser was trained using the \"out-of-the-box\" settings, and produced parses for all sentences.", "labels": [], "entities": []}, {"text": "Using the reranker features distributed with the Brown reranker), which we call the \"standard\" set below, we obtained no overall improvement in f-score when either reranking the Berkeley parser n-best lists alone, or when the Berkeley parses were combined with the Brown parses.", "labels": [], "entities": []}, {"text": "However, it is possible that these results reflect the fact that the features used by the reranker were chosen because they improve the Brown parser, i.e., they are the result of feature selection based on reranking the Brown parser's n-best lists.", "labels": [], "entities": []}, {"text": "In order to determine if this is the case, we developed an \"extended\" feature set that incorporates a wider set of features, specifically including features that capture global properties of the tree that might be harder for the Berkeley parser to learn.", "labels": [], "entities": []}, {"text": "Our extended feature set consists of 4,256,553 features, which are instances of 162 feature classes, which in turn are grouped into 20 feature \"super-classes\".", "labels": [], "entities": []}, {"text": "By contrast, the standard feature set contains 1,333,950 features in 90 feature classes, grouped into 14 super-classes.", "labels": [], "entities": []}, {"text": "annotated, inspired by the n-gram rule features described in, Heads: an indicator function of \"head-to-head\" dependencies, SynSemHeads: an indicator function of the pair of syntactic (i.e., functional) and semantic (i.e., lexical) heads of each non-terminal, RBContext: an indicator function of how much each subtree deviates from from right-branching, SubjVerbAgr: an indicator function of whether subjectverb agreement is violated, CoPar: an indicator function that fires when conjoined phrases in a coordinate structure have approximately parallel syntactic structure, CoLenPar: an indicator function that fires when conjoined phrases in a coordinate structure have approximately the same length, Word: an indicator function that identifies words and their preterminals, WProj: an indicator function that identifies words and their phrasal projections up to their maximal projection, WEdges: an indicator function that identifies the words and POS tags appearing at the edges of each nonterminal, NGramTree: an indicator function of the subtree consisting of nodes connecting each pair of adjacent words in the parse tree, and HeadTree: a tree fragment consisting of ahead word and its projection up to its maximal projection, plus all of the siblings of each node in this sequence (this is like an auxiliary tree in a TAG).", "labels": [], "entities": []}, {"text": "The InterpLogCondP features were designed to capture non-linearities in the way that the Berkeley and Brown parsers assign probabilities to trees.", "labels": [], "entities": []}, {"text": "We deliberately added features that incorporated linguistic notions such as head, governor and maximal projection, as the Berkeley parser does not explicitly condition on such information (in contrast to the Brown parser, which does).", "labels": [], "entities": []}, {"text": "In fact, as the reader can verify the differences in f-scores between rerankers containing the extended features and the standard features is minimal.", "labels": [], "entities": []}, {"text": "In order to better study the importance of the various features we conducted an ablation study, in which we trained rerankers which were missing one feature superclass from the 20 superclasses of the extended feature set.", "labels": [], "entities": []}, {"text": "In order to speed training time we used the averaged perceptron algorithm) (it converges an order of magnitude faster than the L-BFGS algorithm we used in the other experiments, but the f-score of the model estimated with the averaged perceptron is approximately 0.1% lower than when using L-BFGS).", "labels": [], "entities": []}, {"text": "The results from this experiment are shown in.", "labels": [], "entities": []}, {"text": "The averaged perceptron algorithm does not rely on the development data, so the results we report are average fscores on the development data and on section 22 (we did this because the differences are small, so a larger evaluation set maybe able to detect differences more reliably).", "labels": [], "entities": []}, {"text": "It is interesting that linguistically-informed features (such as Heads, SynSemHeads and HeadTree) seem to be much more important when reranking the combined n-best lists than when reranking the output of either parser alone.", "labels": [], "entities": []}, {"text": "This suggests that the log probability scores from both parsers are internally consistent, but need to be recalibrated when the parses are combined.", "labels": [], "entities": []}, {"text": "The log probability scores from the parsers themselves (in the form of the InterpLogCondP feature) are also supplying useful information that the reranker features on their own are not providing.", "labels": [], "entities": []}, {"text": "Finally, the WEdges feature, which identifies the words and POS at the left and right boundaries of each nonterminal, also provides extremely useful information, especially for reranking the Berkeley parser.", "labels": [], "entities": [{"text": "WEdges", "start_pos": 13, "end_pos": 19, "type": "METRIC", "confidence": 0.86419677734375}]}], "tableCaptions": [{"text": " Table 1: The f-scores on section 22 of rerankers trained  on folds 1-18 by minimizing a regularized \"MaxEnt\" ob- jective (negative log likelihood with a Gaussian regular- izer) using L-BFGS. The weight of the regularizer was  tuned to optimize f-score on folds", "labels": [], "entities": [{"text": "MaxEnt\" ob- jective (negative log likelihood", "start_pos": 102, "end_pos": 146, "type": "METRIC", "confidence": 0.7249268558290269}]}]}