{"title": [{"text": "Evaluating Natural Language Understanding Services for Conversational Question Answering Systems", "labels": [], "entities": [{"text": "Evaluating Natural Language Understanding", "start_pos": 0, "end_pos": 41, "type": "TASK", "confidence": 0.8288623094558716}, {"text": "Conversational Question Answering", "start_pos": 55, "end_pos": 88, "type": "TASK", "confidence": 0.7252228756745657}]}], "abstractContent": [{"text": "Conversational interfaces recently gained a lot of attention.", "labels": [], "entities": []}, {"text": "One of the reasons for the current hype is the fact that chat-bots (one particularly popular form of conversational interfaces) nowadays can be created without any programming knowledge , thanks to different toolkits and so-called Natural Language Understanding (NLU) services.", "labels": [], "entities": []}, {"text": "While these NLU services are already widely used in both, industry and science, so far, they have not been analysed systematically.", "labels": [], "entities": []}, {"text": "In this paper , we present a method to evaluate the classification performance of NLU services.", "labels": [], "entities": []}, {"text": "Moreover, we present two new corpora , one consisting of annotated questions and one consisting of annotated questions with the corresponding answers.", "labels": [], "entities": []}, {"text": "Based on these corpora, we conduct an evaluation of some of the most popular NLU services.", "labels": [], "entities": []}, {"text": "Thereby we want to enable both, researchers and companies to make more educated decisions about which service they should use.", "labels": [], "entities": []}], "introductionContent": [{"text": "Long before the terms conversational interface or chatbot were coined, Turing (1950) described them as the ultimate test for artificial intelligence.", "labels": [], "entities": []}, {"text": "Despite their long history, there is a recent hype about chatbots in both, the scientific community (cf. e.g.) and industry.", "labels": [], "entities": []}, {"text": "While there are many related reasons for this development, we think that three key changes were particularly important: \u2022 Rise of universal chat platforms (like Telegram, Facebook Messenger, Slack, etc.)", "labels": [], "entities": []}, {"text": "\u2022 Advances in machine learning (ML) \u2022 Natural Language Understanding (NLU) as a service In this paper, we focus on the latter.", "labels": [], "entities": [{"text": "machine learning (ML)", "start_pos": 14, "end_pos": 35, "type": "TASK", "confidence": 0.7013191938400268}, {"text": "Natural Language Understanding (NLU)", "start_pos": 38, "end_pos": 74, "type": "TASK", "confidence": 0.8021353383858999}]}, {"text": "As we will show in Section 2, NLU services are already used by a number of researchers for building conversational interfaces.", "labels": [], "entities": []}, {"text": "However, due to the lack of a systematic evaluation of theses services, the decision why one services was prefered over another, is usually not well justified.", "labels": [], "entities": []}, {"text": "With this paper, we want to bridge this gap and enable both, researchers and companies, to make more educated decisions about which service they should use.", "labels": [], "entities": []}, {"text": "We describe the functioning of NLU services and their role within the general architecture of chatbots.", "labels": [], "entities": []}, {"text": "We explain, how NLU services can be evaluated and conduct an evaluation, based on two different corpora consisting of nearly 500 annotated questions, of the most popular services.", "labels": [], "entities": []}], "datasetContent": [{"text": "In order to compare the performance of the different NLU services, we used the corpora described in Section 5.", "labels": [], "entities": []}, {"text": "We used the respective training datasets to train the NLU services LUIS, Watson Conversation, API.ai, and RASA.", "labels": [], "entities": [{"text": "LUIS", "start_pos": 67, "end_pos": 71, "type": "DATASET", "confidence": 0.8709914088249207}, {"text": "Watson", "start_pos": 73, "end_pos": 79, "type": "DATASET", "confidence": 0.8710253238677979}]}, {"text": "Amazon Lex was not included in this comparison because, as mentioned in Section 4, it does not offer a batch import functionality, which is crucial in order to effectively train all services with the exact same data.", "labels": [], "entities": [{"text": "Amazon Lex", "start_pos": 0, "end_pos": 10, "type": "DATASET", "confidence": 0.9363148510456085}]}, {"text": "For the same reason, wit.ai was also excluded from the experiment.", "labels": [], "entities": []}, {"text": "While it does offer an import option, currently, it only works reliable for data which was created through the wit.ai webinterface and not altered, or even created, manually.", "labels": [], "entities": []}, {"text": "Afterwards, the test datasets were sent to the NLU services and the labels created by the services were compared against our human created gold standard.", "labels": [], "entities": []}, {"text": "For training, we used the batch import interfaces, offered by all compared services, in this way it was not only possible to train all different services relatively fast, despite many hundred individual labels, it also guaranteed, that all services are fed with exactly the same data.", "labels": [], "entities": []}, {"text": "Since the data format differs from service to service, we used a Python script to automatically convert the training datasets from the format shown in the Appendix to the respective data format of the services.", "labels": [], "entities": []}, {"text": "For retrieving the results for the test datasets from the NLU services, their respective RESTAPIs were used.", "labels": [], "entities": [{"text": "RESTAPIs", "start_pos": 89, "end_pos": 97, "type": "METRIC", "confidence": 0.9931793212890625}]}, {"text": "In order to evaluate the results, we calculated true positives, false positives, and false negatives, based on exact matches.", "labels": [], "entities": []}, {"text": "Based on this data, we computed precision and recall as well as F-score for single intents, entity types, and corpora, as well as overall results.", "labels": [], "entities": [{"text": "precision", "start_pos": 32, "end_pos": 41, "type": "METRIC", "confidence": 0.9994211196899414}, {"text": "recall", "start_pos": 46, "end_pos": 52, "type": "METRIC", "confidence": 0.9993017911911011}, {"text": "F-score", "start_pos": 64, "end_pos": 71, "type": "METRIC", "confidence": 0.999211311340332}]}, {"text": "We will say one service is better than another if it has a higher F-score.", "labels": [], "entities": [{"text": "F-score", "start_pos": 66, "end_pos": 73, "type": "METRIC", "confidence": 0.9984176158905029}]}, {"text": "The detailed results of the evaluation, broken down on single intents, entity types, corpora, and overall, are shown in to 8.", "labels": [], "entities": []}, {"text": "Each table shows the result from a different NLU service.", "labels": [], "entities": []}, {"text": "Within the tables, each row represents one particular entity type or intent.", "labels": [], "entities": []}, {"text": "For each row, the corpus, type (intent/entity), and true positives, false negatives, and false positives are given.", "labels": [], "entities": []}, {"text": "From these values, precision, recall, and F-score have been calculated.", "labels": [], "entities": [{"text": "precision", "start_pos": 19, "end_pos": 28, "type": "METRIC", "confidence": 0.9998413324356079}, {"text": "recall", "start_pos": 30, "end_pos": 36, "type": "METRIC", "confidence": 0.9998531341552734}, {"text": "F-score", "start_pos": 42, "end_pos": 49, "type": "METRIC", "confidence": 0.9996091723442078}]}, {"text": "The entity types and intents are also sorted by the corpus they appear in.", "labels": [], "entities": []}, {"text": "For each corpus, there is a summary row, which shows precision, recall, and Fscore for the whole corpus.", "labels": [], "entities": [{"text": "precision", "start_pos": 53, "end_pos": 62, "type": "METRIC", "confidence": 0.9996334314346313}, {"text": "recall", "start_pos": 64, "end_pos": 70, "type": "METRIC", "confidence": 0.9995504021644592}, {"text": "Fscore", "start_pos": 76, "end_pos": 82, "type": "METRIC", "confidence": 0.9997451901435852}]}, {"text": "At the bottom of each table, there is also an overall summary.", "labels": [], "entities": [{"text": "summary", "start_pos": 54, "end_pos": 61, "type": "METRIC", "confidence": 0.9377163648605347}]}, {"text": "From a high-level perspective, LUIS performed best with an F-score of 0.916, followed by RASA (0.821), Watson Conversation (0.752), and API.ai (0.687).", "labels": [], "entities": [{"text": "F-score", "start_pos": 59, "end_pos": 66, "type": "METRIC", "confidence": 0.9990739822387695}, {"text": "RASA (0.821)", "start_pos": 89, "end_pos": 101, "type": "METRIC", "confidence": 0.7996213138103485}]}, {"text": "LUIS also performed best on each individual dataset: chatbot, web apps, and ask ubuntu.", "labels": [], "entities": []}, {"text": "Similarly, API.ai performed worst on every dataset, while the second place changes between RASA and Watson Conversation (cf..", "labels": [], "entities": [{"text": "RASA", "start_pos": 91, "end_pos": 95, "type": "TASK", "confidence": 0.5161200165748596}, {"text": "Watson", "start_pos": 100, "end_pos": 106, "type": "DATASET", "confidence": 0.8649579882621765}]}, {"text": "Based on this data, the second hypothesis can be rejected.", "labels": [], "entities": []}, {"text": "Although the best performance was indeed shown by a commercial product, RASA easily competes with the other commercial products.", "labels": [], "entities": [{"text": "RASA", "start_pos": 72, "end_pos": 76, "type": "TASK", "confidence": 0.959227442741394}]}, {"text": "The first hypothesis is supported by our findings.", "labels": [], "entities": []}, {"text": "We can see a difference between the services, with the F-score of LUIS being nearly 0.3 higher than the F-score of API.ai.", "labels": [], "entities": [{"text": "F-score", "start_pos": 55, "end_pos": 62, "type": "METRIC", "confidence": 0.997663140296936}, {"text": "F-score", "start_pos": 104, "end_pos": 111, "type": "METRIC", "confidence": 0.9879311323165894}]}, {"text": "However, a conducted two-way ANOVA analysis with the Fscore as dependent variable and the NLU service and the entity type/intent as fixed factors does not show a significance at the level of p < 0.05 (p = 0.234, df = 3).", "labels": [], "entities": [{"text": "Fscore", "start_pos": 53, "end_pos": 59, "type": "DATASET", "confidence": 0.6007950901985168}]}, {"text": "An even larger corpus might be necessary to get quantitatively more robust results.", "labels": [], "entities": []}, {"text": "With regard to the third hypothesis, the picture is less clear.", "labels": [], "entities": []}, {"text": "Although we can see a clear influence of the domain on the F-score within each service, the ranking between different services is not overall chatbot web apps ask ubuntu: F-scores for the different NLU services, grouped by corpus much influenced.", "labels": [], "entities": [{"text": "F-score", "start_pos": 59, "end_pos": 66, "type": "METRIC", "confidence": 0.9562211632728577}]}, {"text": "LUIS always performs best, independent from the domain, API.ai always worst, also independent from the domain, merely the second and third place changes.", "labels": [], "entities": [{"text": "LUIS", "start_pos": 0, "end_pos": 4, "type": "DATASET", "confidence": 0.5681477189064026}]}, {"text": "Therefore, although the domain influences the results, it is not clear whether or not it should also influence the decision which service should be used.", "labels": [], "entities": []}, {"text": "On a more detailed level, we also see differences between entities and intents.", "labels": [], "entities": []}, {"text": "Especially API.ai seems to have big troubles identifying entities.", "labels": [], "entities": []}, {"text": "On the web apps corpus, for example, API.ai did not identify a single occurrence of the entity type WebService, which occurred 64 times in the dataset.", "labels": [], "entities": []}, {"text": "If we calculate the F-score for this dataset only based on the intents, it would increase from 0.519 to 0.803.", "labels": [], "entities": [{"text": "F-score", "start_pos": 20, "end_pos": 27, "type": "METRIC", "confidence": 0.9993101358413696}]}, {"text": "The overall results of API.ai were therefore heavily influenced by its shortcomings regarding entity detection.", "labels": [], "entities": [{"text": "entity detection", "start_pos": 94, "end_pos": 110, "type": "TASK", "confidence": 0.809822142124176}]}, {"text": "If we look at intents and entity types with sparse training data, like Line, ChangePassword, and ExportData, other than we expected, we do not see a significantly better performance of commercial services.", "labels": [], "entities": []}], "tableCaptions": [{"text": " Table 2: Entity types within the chatbot corpus", "labels": [], "entities": []}, {"text": " Table 3: Intents within StackExchange corpus", "labels": [], "entities": []}, {"text": " Table 4: Entity types within the StackExchange  corpus", "labels": [], "entities": []}, {"text": " Table 6: Results Watson Conversation", "labels": [], "entities": []}]}